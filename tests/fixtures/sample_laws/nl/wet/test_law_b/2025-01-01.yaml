---
$schema: https://example.com/schema/v0.1.0/schema.json
$id: test_law_b
regulatory_layer: WET
publication_date: '2025-01-01'

identifiers:
  bwb_id: BWBRTEST002
  url: https://example.com/test_law_b

articles:
  - number: '1'
    text: Article that calls test_law_a via URI
    url: https://example.com/test_law_b#1
    machine_readable:
      execution:
        parameters:
          - name: my_value
            type: number
            required: true
        input:
          - name: result_from_a
            type: number
            source:
              url: regelrecht://test_law_a/add_numbers#add_numbers
              parameters:
                input_value: $my_value
        output:
          - name: call_other_law
            type: number
        actions:
          - output: call_other_law
            operation: MULTIPLY
            values:
              - $result_from_a
              - 2

  - number: '2'
    text: Article with internal reference
    url: https://example.com/test_law_b#2
    machine_readable:
      execution:
        parameters:
          - name: my_value
            type: number
            required: true
        input:
          - name: from_article_1
            type: number
            source:
              ref: '#call_other_law'
              article: '1'
              parameters:
                my_value: $my_value
        output:
          - name: internal_ref_test
            type: number
        actions:
          - output: internal_ref_test
            operation: ADD
            values:
              - $from_article_1
              - 10
