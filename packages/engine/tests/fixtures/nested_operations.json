{
  "version": "1.0.0",
  "generated_at": "2026-01-26T13:58:39.545607+00:00",
  "category": "nested_operations",
  "test_count": 5,
  "test_cases": [
    {
      "id": "nested_001_two_levels",
      "description": "Nested operations 2 levels deep",
      "category": "nested_operations",
      "parameters": {},
      "calculation_date": "2025-01-01",
      "expected": {
        "success": true,
        "article_number": "1",
        "outputs": {
          "result": 25
        },
        "resolved_inputs": {}
      },
      "law_yaml": "\n$schema: https://example.com/schema/v0.1.0/schema.json\n$id: test_nested\nregulatory_layer: WET\npublication_date: '2025-01-01'\narticles:\n  - number: '1'\n    text: Test article\n    machine_readable:\n\n      execution:\n        output:\n          - name: result\n            type: number\n        actions:\n          - output: result\n            operation: ADD\n            values:\n              - operation: MULTIPLY\n                values:\n                  - 5\n                  - 3\n              - 10\n\n",
      "law_id": "test_nested",
      "output_name": "result"
    },
    {
      "id": "nested_002_three_levels",
      "description": "Nested operations 3 levels deep",
      "category": "nested_operations",
      "parameters": {},
      "calculation_date": "2025-01-01",
      "expected": {
        "success": true,
        "article_number": "1",
        "outputs": {
          "result": 40
        },
        "resolved_inputs": {}
      },
      "law_yaml": "\n$schema: https://example.com/schema/v0.1.0/schema.json\n$id: test_nested\nregulatory_layer: WET\npublication_date: '2025-01-01'\narticles:\n  - number: '1'\n    text: Test article\n    machine_readable:\n\n      execution:\n        output:\n          - name: result\n            type: number\n        actions:\n          - output: result\n            operation: MULTIPLY\n            values:\n              - operation: ADD\n                values:\n                  - operation: SUBTRACT\n                    values:\n                      - 20\n                      - 5\n                  - 5\n              - 2\n\n",
      "law_id": "test_nested",
      "output_name": "result"
    },
    {
      "id": "nested_003_four_plus_levels",
      "description": "Nested operations 4+ levels deep",
      "category": "nested_operations",
      "parameters": {},
      "calculation_date": "2025-01-01",
      "expected": {
        "success": true,
        "article_number": "1",
        "outputs": {
          "result": 50
        },
        "resolved_inputs": {}
      },
      "law_yaml": "\n$schema: https://example.com/schema/v0.1.0/schema.json\n$id: test_nested\nregulatory_layer: WET\npublication_date: '2025-01-01'\narticles:\n  - number: '1'\n    text: Test article\n    machine_readable:\n\n      execution:\n        output:\n          - name: result\n            type: number\n        actions:\n          - output: result\n            operation: ADD\n            values:\n              - operation: MULTIPLY\n                values:\n                  - operation: SUBTRACT\n                    values:\n                      - operation: ADD\n                        values:\n                          - 10\n                          - 5\n                      - 5\n                  - 3\n              - 20\n\n",
      "law_id": "test_nested",
      "output_name": "result"
    },
    {
      "id": "nested_004_mixed_operation_types",
      "description": "Mixed operation types in nesting",
      "category": "nested_operations",
      "parameters": {},
      "calculation_date": "2025-01-01",
      "expected": {
        "success": true,
        "article_number": "1",
        "outputs": {
          "result": "greater"
        },
        "resolved_inputs": {}
      },
      "law_yaml": "\n$schema: https://example.com/schema/v0.1.0/schema.json\n$id: test_nested\nregulatory_layer: WET\npublication_date: '2025-01-01'\narticles:\n  - number: '1'\n    text: Test article\n    machine_readable:\n\n      execution:\n        output:\n          - name: result\n            type: string\n        actions:\n          - output: result\n            operation: IF\n            when:\n              operation: GREATER_THAN\n              subject:\n                operation: ADD\n                values:\n                  - 10\n                  - 20\n              value:\n                operation: MULTIPLY\n                values:\n                  - 5\n                  - 5\n            then: \"greater\"\n            else: \"not_greater\"\n\n",
      "law_id": "test_nested",
      "output_name": "result"
    },
    {
      "id": "nested_005_variables_at_any_level",
      "description": "Variables at any nesting level",
      "category": "nested_operations",
      "parameters": {},
      "calculation_date": "2025-01-01",
      "expected": {
        "success": true,
        "article_number": "1",
        "outputs": {
          "result": 50
        },
        "resolved_inputs": {}
      },
      "law_yaml": "\n$schema: https://example.com/schema/v0.1.0/schema.json\n$id: test_nested\nregulatory_layer: WET\npublication_date: '2025-01-01'\narticles:\n  - number: '1'\n    text: Test article\n    machine_readable:\n\n      definitions:\n        BASE: 10\n        MULTIPLIER: 3\n      execution:\n        output:\n          - name: result\n            type: number\n        actions:\n          - output: result\n            operation: ADD\n            values:\n              - operation: MULTIPLY\n                values:\n                  - $BASE\n                  - $MULTIPLIER\n              - 20\n\n",
      "law_id": "test_nested",
      "output_name": "result"
    }
  ]
}